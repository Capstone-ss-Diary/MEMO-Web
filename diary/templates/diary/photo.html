<style>
  .dellink {

    display: none;

  }
</style>



<input type="file" class="hidden_input" id="imageSelector" name="imageSelector"
  accept="image/jpeg, image/jpg, image/png" multiple />

<img src="" class="thumb" />

<a href="javascript:void(0);" class="dellink">썸네일삭제</a>

<script>
  // 파일 객체를 parameter로 넘겨서 파일 타입을 비교
  var validateType = function (img) {
    return (['image/jpeg', 'image/jpg', 'image/png'].indexOf(img.type) > -1);
  }

  // 파일 이름을 기준으로 확장자 비교
  var validateName = function (fname) {

    let extensions = ['jpeg', 'jpg', 'png'];
    let fparts = fname.split('.');
    let fext = '';

    if (fparts.length > 1) {
      fext = fparts[fparts.length - 1];
    }

    let validated = false;

    if (fext != '') {
      extensions.forEach(function (ext) {
        if (ext == fext) {
          validated = true;
        }
      });
    }
    return validated;
  }


  // 파일 선택 필드에 이벤트 리스너 등록

  document.getElementById('imageSelector').addEventListener('change', function (e) {

    let elem = e.target;

    if (validateType(elem.files[0])) {

      let preview = document.querySelector('.thumb');

      preview.src = URL.createObjectURL(elem.files[0]); //파일 객체에서 이미지 데이터 가져옴.


      //  (submit 버튼 선택하면)
      document.querySelector('.dellink').style.display = 'block'; // 이미지 삭제 링크 표시

      preview.onload = function () {

        URL.revokeObjectURL(preview.src); //URL 객체 해제

      }

    } else {

      console.log('이미지 파일이 아닙니다.');

    }

  });

  document.querySelector('.dellink').addEventListener('click', function (e) {

    let dellink = e.target;

    let preview = dellink.previousElementSibling;

    preview.src = ''; // 썸네일 이미지 src 데이터 해제

    document.querySelector('.dellink').style.display = 'none';

  });


</script>