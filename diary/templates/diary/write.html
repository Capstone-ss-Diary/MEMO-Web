<html>

<body>
  <canvas id="paper" width="500" height="500" style="background-color: rgb(236, 236, 182);"></canvas>
  <textarea type="text" id="UserInput" cols="50" rows="10"></textarea>
  <!-- <button onclick="inputText()">입력</button>
  <button onclick="deleteText()">지우기</button> -->
</body>

</html>

<script type="text/javascript">

  var canvas = document.getElementById("paper");
  var ctx = canvas.getContext("2d");
  var UserInput = document.getElementById("UserInput");

  let x = 100
  let y = 100

  canvas.onclick = function (event) {
    x = event.clientX - ctx.canvas.offsetLeft;
    y = event.clientY - ctx.canvas.offsetTop;
  }

  UserInput.oninput = function () {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.beginPath();
    ctx.font = "30px Arial";

    var text = UserInput.value

    var line = "";
    var fontSize = parseFloat(ctx.font);
    var currentY = y;
    ctx.textBaseline = "top"
    for (var i = 0; i < text.length; i++) {
      var tempLine = line + text[i];
      var tempWidth = x + ctx.measureText(tempLine).width;

      if (tempWidth < canvas.width && text[i] != "\n") {
        line = tempLine;
      }
      else {
        ctx.fillText(line, x, currentY);
        if (text[i] != "\n") line = text[i];
        else line = "";
        currentY += fontSize * (1.2);
      }
    }
    ctx.fillText(line, x, currentY);
  }

</script>